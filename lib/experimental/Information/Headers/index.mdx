import { Canvas, Meta, Controls, Unstyled } from "@storybook/blocks"
import LinkTo from "@storybook/addon-links/react"
import { DoDonts } from "@/lib/storybook-utils/do-donts"

import * as ResourceHeaderStories from "./ResourceHeader/index.stories"
import * as PersonHeaderStories from "./PersonHeader/index.stories"
import * as CompanyHeaderStories from "./CompanyHeader/index.stories"
import * as TeamHeaderStories from "./TeamHeader/index.stories"
import * as MetadataStories from "./Metadata/index.stories"

<Meta title="ResourceHeader" />

# Resource header

## Introduction

### Definition

The Resource Header is a structural component that provides context and key
actions for a resource page. It helps users understand where they are and what
actions they can perform.

### Purpose

- Provide immediate context about the current resource the user is viewing
- Centralize primary and secondary actions related to the resource
- Display crucial metadata and status information
- Create a consistent navigation pattern across different resource types

## Anatomy

<Canvas of={ResourceHeaderStories.Default} meta={ResourceHeaderStories} />
<Controls of={ResourceHeaderStories.Default} />

### Common actions

#### Primary action

- Positioned far right of the header
- Primary actions vary by context (e.g., "Add members")
- Most visually prominent in the header
- Can include icons when they aid recognition or match design patterns

#### Edit

- Positioned between Primary and Destructive actions (when applicable)
- Must include the pencil icon (‚úé)
- Uses an outline button type

#### Destructive

- Positioned far left of all buttons
- Always requires a confirmation dialog
- Must include the trash icon (üóë)
- Uses a critical button type with a "danger" color

## Variants

The Resource Header is designed to adapt to different resource types, ensuring a
clear and contextually relevant presentation of the information.

### Person

Designed to display information about an individual user.

<Canvas of={PersonHeaderStories.Default} />

### Company

Designed to display information about a company, client, or other entity.

<Canvas of={CompanyHeaderStories.Default} />

### Team

Designed to display information about a team.

<Canvas of={TeamHeaderStories.Default} />

## Guidelines

### Content best practices

- Keep titles concise and descriptive, with 2-5 words and no punctuation
- Write descriptions with meaningful context in 1-2 sentences
- Use action verbs in [verb + noun] format (e.g., "Edit profile" instead of
  "Profile edition"). Capitalize only the first word unless it's a proper noun
  (e.g., "Add to Factorial")
- Ensure metadata labels are clear and consistent across the application

### Design best practices

<DoDonts
  do={{
    description: "Use Resource Header when you need to:",
    guidelines: [
      "Display key information about a specific resource (employee, project, document, course, job post, expense, performance review, etc.)",
      "Provide quick access to common actions related to the resource",
      "Show the current status and important metadata of a resource",
      "Create consistent navigation patterns across resource detail pages",
    ],
    children: (
      <img
        src="docs/headers/do.png"
        alt="Don't use the resource header in the main module page"
      />
    ),
  }}
  dont={{
    description: "Don't use Resource Header when:",
    guidelines: [
      "You're displaying a data collection",
      "The page doesn't represent a specific resource",
      "You need minimal identification without actions or metadata",
      "You're creating a dashboard overview",
    ],
    children: (
      <img
        src="docs/headers/dont.png"
        alt="Don't use the resource header in the main module page"
      />
    ),
  }}
/>

## Resource metadata

Metadata are key elements for displaying contextual information about a
resource, allowing users to identify and interact with related data efficiently.
These actions are displayed in the header section and vary depending on the
context.

The metadata section displays key-value pairs with the following
characteristics:

- Label-Data pairs displayed horizontally
- Each pair consists of a label (grey text) followed by the corresponding data
- Multiple pairs can be displayed in a row (Recommended maximum: 5)
- Interactive elements within the metadata can trigger specific actions

<Canvas of={MetadataStories.Default} />

### Variants

1. **Text**: Display a descriptive piece of information or a textual identifier
   related to the resource.
2. **Avatar**: Represents entities that can be visualized with an avatar icon.
   (User, company and team)
3. **Status**: Represent a state or situation associated with the resource, such
   as "Active," "Inactive," "Pending.‚Äù, etc.
4. **List**: Display team members, task owners, or people associated with a
   specific resource.

### Guidelines

#### Best practices

1. Maintain consistent labeling conventions
2. Group related metadata fields
3. Prioritize important information in the layout
4. Use clear, concise descriptions
5. Include relevant actions based on context

### Behavior

#### Hover interactions

The metadata fields reveal action options on hover. Each metadata can be
configured to show relevant actions based on the content type and use case.

<Canvas of={MetadataStories.WithActions} />

When hovering over a metadata field, one or more of these actions may be
displayed:

- **Inline Edit**: Enables direct editing of the field content
- **Quick Copy**: Provides one-click copying of exact values (ideal for
  financial data, IBANs, account numbers)  
  By default, the copy button will be placed on the right and the edit button on
  the left whenever they appear together within the same metadata.
- **Side Panel**: Opens a detailed view or complex editing interface
- **Tooltip Info**: Shows additional information or context when needed
