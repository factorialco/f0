import _asyncToGenerator from"@babel/runtime/helpers/asyncToGenerator";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{tv}from"tailwind-variants";import React,{forwardRef,useState}from"react";import{Pressable,Text,View}from"react-native";import{cn}from"../../lib/utils";import{Icon}from"../Icon";import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";export var variants=["default","outline","critical","neutral","ghost","promote"];export var sizes=["sm","md","lg"];var buttonVariants=tv({base:"flex-row items-center justify-center rounded border-none grow-0",variants:{variant:{default:"bg-f1-background-accent-bold",outline:"bg-f1-background-inverse-secondary border border-f1-border",neutral:"bg-f1-background-secondary",critical:"bg-f1-background-secondary border border-f1-border",ghost:"bg-transparent",promote:"bg-f1-background-promote border border-f1-border-promote"},size:{sm:"h-6 rounded-sm",md:"h-8 rounded",lg:"h-10 rounded-md"},disabled:{true:"opacity-50",false:""},round:{true:"aspect-square p-0",false:"gap-1 px-2 sm:px-3 lg:px-4"}},defaultVariants:{variant:"default",size:"md",disabled:false,round:false}});var pressedVariants=tv({base:"",variants:{variant:{default:"bg-f1-background-accent-bold-hover",outline:"bg-f1-background-tertiary border-opacity-70",neutral:"bg-f1-background-secondary-hover",critical:"bg-f1-background-critical-bold border-transparent",ghost:"bg-f1-background-secondary-hover",promote:"bg-f1-background-promote-hover"}},defaultVariants:{variant:"default"}});var getIconColor=function getIconColor(variant,isPressed){switch(variant){case"default":return"text-f1-icon-inverse";case"critical":return isPressed?"text-f1-icon-inverse":"text-f1-icon-critical-bold";default:return"text-f1-icon";}};var getIconOnlyColor=function getIconOnlyColor(variant,isPressed){switch(variant){case"critical":return isPressed?"text-f1-icon-inverse":"text-f1-icon-critical-bold";case"default":return"text-f1-icon-inverse";case"outline":case"neutral":case"ghost":case"promote":default:return"text-f1-icon-bold";}};var getTextColorClass=function getTextColorClass(variant,isPressed){if(isPressed&&variant==="critical"){return"text-f1-foreground-inverse";}switch(variant){case"default":return"text-f1-foreground-inverse";case"critical":return"text-f1-foreground-critical";default:return"text-f1-foreground";}};export var Button=forwardRef(function Button(_ref,ref){var label=_ref.label,onPress=_ref.onPress,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$loading=_ref.loading,loading=_ref$loading===void 0?false:_ref$loading,icon=_ref.icon,emoji=_ref.emoji,_ref$hideLabel=_ref.hideLabel,hideLabel=_ref$hideLabel===void 0?false:_ref$hideLabel,_ref$variant=_ref.variant,variant=_ref$variant===void 0?"default":_ref$variant,_ref$size=_ref.size,size=_ref$size===void 0?"md":_ref$size,_ref$round=_ref.round,round=_ref$round===void 0?false:_ref$round,className=_ref.className,accessibilityHint=_ref.accessibilityHint,_ref$showBadge=_ref.showBadge,showBadge=_ref$showBadge===void 0?false:_ref$showBadge,_ref$fullWidth=_ref.fullWidth,fullWidth=_ref$fullWidth===void 0?false:_ref$fullWidth;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPressed=_useState4[0],setIsPressed=_useState4[1];var handlePress=function(){var _ref2=_asyncToGenerator(function*(){if(!onPress||disabled||loading||isLoading)return;var result=onPress();if(result instanceof Promise){setIsLoading(true);try{yield result;}finally{setIsLoading(false);}}});return function handlePress(){return _ref2.apply(this,arguments);};}();var isDisabled=disabled||loading||isLoading;var accessibilityLabel=`${label}${isDisabled?", disabled":""}${loading||isLoading?", loading":""}`;var shouldShowPressed=isPressed&&!isDisabled;return _jsxs(View,{className:`flex ${fullWidth?"flex-1":"item-start"}`,children:[_jsxs(Pressable,{ref:ref,disabled:isDisabled,onPressIn:function onPressIn(){return setIsPressed(true);},onPressOut:function onPressOut(){return setIsPressed(false);},onPress:handlePress,className:cn(buttonVariants({variant:variant,size:size,disabled:isDisabled,round:hideLabel&&round}),shouldShowPressed&&pressedVariants({variant:variant}),className),accessibilityLabel:accessibilityLabel,accessibilityRole:"button",accessibilityState:{disabled:isDisabled,busy:loading||isLoading},accessibilityHint:accessibilityHint,children:[icon&&_jsx(Icon,{icon:icon,size:size==="sm"?"sm":"md",className:cn(hideLabel&&round?undefined:"-ml-0.5",hideLabel&&round?getIconOnlyColor(variant,shouldShowPressed):getIconColor(variant,shouldShowPressed))}),emoji&&_jsx(Text,{className:cn("text-base font-medium",getTextColorClass(variant,shouldShowPressed)),children:emoji}),!hideLabel&&_jsx(Text,{className:cn("text-base font-medium",getTextColorClass(variant,shouldShowPressed)),children:label})]}),showBadge&&variant==="outline"&&_jsx(View,{accessibilityLabel:"Notification Badge",className:"absolute right-1.5 top-1.5 h-1.5 w-1.5 rounded-full bg-f1-icon-accent"})]});});
//# sourceMappingURL=index.js.map