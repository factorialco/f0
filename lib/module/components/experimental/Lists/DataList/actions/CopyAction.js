import _asyncToGenerator from"@babel/runtime/helpers/asyncToGenerator";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useEffect,useState}from"react";import{cn}from"../../../../../lib/utils";import{Icon}from"../../../../Icon";import{CheckCircle,LayersFront}from"../../../../../icons/app";import{Pressable,View}from"react-native";import*as Clipboard from"expo-clipboard";import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";var COPIED_SHOWN_MS=750;export var CopyAction=function CopyAction(_ref){var text=_ref.text,children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copied=_useState2[0],setCopied=_useState2[1];useEffect(function(){if(copied){var timer=setTimeout(function(){return setCopied(false);},COPIED_SHOWN_MS);return function(){return clearTimeout(timer);};}},[copied]);var copyHandler=function(){var _ref2=_asyncToGenerator(function*(){try{if(text){yield Clipboard.setStringAsync(text);setCopied(true);}}catch(error){void error;}});return function copyHandler(){return _ref2.apply(this,arguments);};}();return _jsxs(Pressable,{"aria-label":copied?"Copied!":`Copy ${text}`,className:cn("group flex flex-row justify-between gap-1.5 rounded p-1.5","transition-colors duration-300 active:bg-f1-background-secondary-hover",copied?"bg-f1-background-positive":undefined),onPress:copyHandler,children:[_jsx(View,{className:"flex flex-row items-center gap-1.5",children:children}),_jsxs(View,{className:"flex",children:[!copied&&_jsx(Icon,{icon:LayersFront,size:"md","aria-hidden":true,className:cn("col-start-1 col-end-2 row-start-1 row-end-2 text-f1-icon-bold")}),copied&&_jsx(Icon,{icon:CheckCircle,size:"md","aria-hidden":true,className:cn("col-start-1 col-end-2 row-start-1 row-end-2","text-f1-icon-positive")})]})]});};
//# sourceMappingURL=CopyAction.js.map