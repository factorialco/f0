import{Avatar as AvatarComponent,AvatarFallback,AvatarImage}from"../../../ui/avatar";import{useMemo}from"react";import{Badge}from"../../Badge";import{getAvatarColor,getInitials}from"./utils";import{View}from"react-native";import{ModuleAvatar}from"../ModuleAvatar";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from"react/jsx-runtime";var getAvatarSize=function getAvatarSize(size){var sizeMap={xlarge:"lg",large:"md",small:"sm"};return size&&sizeMap[size]?sizeMap[size]:sizeMap.small;};var getBadgeSize=function getBadgeSize(size){var sizeMap={xlarge:"lg",large:"md",small:"sm"};return size&&sizeMap[size]?sizeMap[size]:sizeMap.small;};export var BaseAvatar=function BaseAvatar(_ref){var src=_ref.src,name=_ref.name,size=_ref.size,_ref$type=_ref.type,type=_ref$type===void 0?"base":_ref$type,_ref$color=_ref.color,color=_ref$color===void 0?"random":_ref$color,ariaLabel=_ref["aria-label"],ariaLabelledby=_ref["aria-labelledby"],badge=_ref.badge;var initials=getInitials(name,size);var avatarColor=color==="random"?getAvatarColor(Array.isArray(name)?name.join(""):name):color;var hasAria=Boolean(ariaLabel||ariaLabelledby);var badgeSize=getBadgeSize(size);var moduleAvatarSize=getAvatarSize(size);var badgeContent=useMemo(function(){return badge?_jsxs(_Fragment,{children:[badge.type==="module"&&_jsx(ModuleAvatar,{module:badge.module,size:moduleAvatarSize}),badge.type!=="module"&&_jsx(Badge,{type:badge.type,icon:badge.icon,size:badgeSize})]}):null;},[badge,badgeSize,moduleAvatarSize]);return _jsxs(View,{className:`inline-flex ${badge&&badge.type==="module"?"p-[3px]":""}`,children:[_jsx(View,{className:"h-fit w-fit",children:_jsx(AvatarComponent,{size:size,type:type,color:avatarColor,role:"img","aria-hidden":!hasAria,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby,"data-a11y-color-contrast-ignore":true,className:src?"dark:bg-f1-background-inverse-secondary bg-f1-background":"",children:src?_jsx(AvatarImage,{src:src,alt:initials}):_jsx(AvatarFallback,{size:size,"data-a11y-color-contrast-ignore":true,children:initials})})}),badge&&_jsx(View,{className:"absolute -bottom-0.5 -right-0.5",children:badgeContent})]});};BaseAvatar.displayName="BaseAvatar";
//# sourceMappingURL=index.js.map