import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["label","onPress","icon","showBadge"];import{render,fireEvent,screen,within}from"@testing-library/react-native";import React from"react";import{PageHeader}from"./";import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";jest.mock("../../Button",function(){return{Button:jest.fn(function(_ref){var label=_ref.label,onPress=_ref.onPress,icon=_ref.icon,showBadge=_ref.showBadge,rest=_objectWithoutProperties(_ref,_excluded);var MockButton=require("react-native").TouchableOpacity;var MockText=require("react-native").Text;return _jsxs(MockButton,Object.assign({onPress:onPress,accessibilityLabel:label},rest,{children:[_jsx(MockText,{children:label}),icon&&_jsxs(MockText,{children:["Icon:",icon.name]}),showBadge&&_jsx(MockText,{children:"Badge"})]}));})};});jest.mock("../../../index",function(){return{AppIcons:{Bell:{name:"Bell"}}};});describe("PageHeader",function(){var mockOnPressNotification=jest.fn();var defaultProps={title:"Test Page Title"};var propsWithActions=Object.assign({},defaultProps,{actions:[{type:"notifications",label:"Notifications",onPress:mockOnPressNotification,showBadge:false}]});var propsWithMultipleActions=Object.assign({},defaultProps,{actions:[{type:"notifications",label:"Notifications",onPress:mockOnPressNotification,showBadge:true},{type:"notifications",label:"Alerts",onPress:jest.fn()}]});beforeEach(function(){jest.clearAllMocks();});it("Snapshot - renders correctly with only a title",function(){var _render=render(_jsx(PageHeader,Object.assign({},defaultProps))),toJSON=_render.toJSON;expect(toJSON()).toMatchSnapshot();});it("Snapshot - renders correctly with one action",function(){var _render2=render(_jsx(PageHeader,Object.assign({},propsWithActions))),toJSON=_render2.toJSON;expect(toJSON()).toMatchSnapshot();});it("Snapshot - renders correctly with multiple actions",function(){var _render3=render(_jsx(PageHeader,Object.assign({},propsWithMultipleActions))),toJSON=_render3.toJSON;expect(toJSON()).toMatchSnapshot();});it("Snapshot - renders correctly with one action with a badge",function(){var propsWithBadge=Object.assign({},defaultProps,{actions:[{type:"notifications",label:"Notifications",onPress:mockOnPressNotification,showBadge:true}]});var _render4=render(_jsx(PageHeader,Object.assign({},propsWithBadge))),toJSON=_render4.toJSON;expect(toJSON()).toMatchSnapshot();});it("renders the title correctly",function(){render(_jsx(PageHeader,Object.assign({},defaultProps)));var title=screen.getByText("Test Page Title");expect(title).toBeDefined();});it("does not render actions if actions prop is not provided",function(){render(_jsx(PageHeader,Object.assign({},defaultProps)));var notificationButton=screen.queryByText("Notifications");expect(notificationButton).toBeNull();});it("renders action buttons when actions prop is provided",function(){render(_jsx(PageHeader,Object.assign({},propsWithActions)));var notificationButton=screen.getByText("Notifications");expect(notificationButton).toBeDefined();});it("calls the onPress handler of an action button when pressed",function(){render(_jsx(PageHeader,Object.assign({},propsWithActions)));var notificationButton=screen.getByText("Notifications");fireEvent.press(notificationButton);expect(mockOnPressNotification).toHaveBeenCalledTimes(1);});it("displays a badge on an action button if showBadge is true",function(){render(_jsx(PageHeader,{title:"Test Title",actions:[{type:"notifications",label:"Notifications",onPress:jest.fn(),showBadge:true}]}));var badge=screen.getByText("Badge");expect(badge).toBeDefined();});it("does not display a badge if showBadge is false or undefined",function(){render(_jsx(PageHeader,{title:"Test Title",actions:[{type:"notifications",label:"Notifications",onPress:jest.fn()},{type:"notifications",label:"Alerts",onPress:jest.fn(),showBadge:false}]}));var badge=screen.queryByText("Badge");expect(badge).toBeNull();});it("renders multiple action buttons correctly",function(){render(_jsx(PageHeader,Object.assign({},propsWithMultipleActions)));var notificationsButton=screen.getByText("Notifications");var alertsButton=screen.getByText("Alerts");expect(notificationsButton).toBeDefined();expect(alertsButton).toBeDefined();var notificationButtonContainer=screen.getByLabelText("Notifications");var badge=within(notificationButtonContainer).getByText("Badge");expect(badge).toBeDefined();});});
//# sourceMappingURL=index.spec.js.map