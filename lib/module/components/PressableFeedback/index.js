import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["variant","scaleAnimation","highlightAnimation","className","style","children","disableAnimation","onPressIn","onPressOut","disabled"];import{forwardRef,useCallback,useMemo}from"react";import{Pressable}from"react-native";import Animated,{Easing,useAnimatedStyle,useSharedValue,withTiming}from"react-native-reanimated";import{cn}from"../../lib/utils";import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";var AnimatedPressable=Animated.createAnimatedComponent(Pressable);var DEFAULT_TIMING_CONFIG={duration:150,easing:Easing.out(Easing.ease)};var _worklet_1228913310888_init_data={code:"function indexTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.value}]};}",location:"/home/runner/work/f0/f0/packages/react-native/src/components/PressableFeedback/index.tsx",sourceMap:"{\"version\":3,\"names\":[\"indexTsx1\",\"scale\",\"__closure\",\"transform\",\"value\"],\"sources\":[\"/home/runner/work/f0/f0/packages/react-native/src/components/PressableFeedback/index.tsx\"],\"mappings\":\"AA4JoD,SAAAA,SAAMA,CAAA,QAAAC,KAAA,OAAAC,SAAA,CACpD,MAAO,CACLC,SAAS,CAAE,CAAC,CAAEF,KAAK,CAAEA,KAAK,CAACG,KAAM,CAAC,CACpC,CAAC,CACH\",\"ignoreList\":[]}"};var _worklet_5632786850076_init_data={code:"function indexTsx2(){const{highlightOpacity}=this.__closure;return{opacity:highlightOpacity.value};}",location:"/home/runner/work/f0/f0/packages/react-native/src/components/PressableFeedback/index.tsx",sourceMap:"{\"version\":3,\"names\":[\"indexTsx2\",\"highlightOpacity\",\"__closure\",\"opacity\",\"value\"],\"sources\":[\"/home/runner/work/f0/f0/packages/react-native/src/components/PressableFeedback/index.tsx\"],\"mappings\":\"AAmKoD,SAAAA,SAAMA,CAAA,QAAAC,gBAAA,OAAAC,SAAA,CACpD,MAAO,CACLC,OAAO,CAAEF,gBAAgB,CAACG,KAC5B,CAAC,CACH\",\"ignoreList\":[]}"};export var PressableFeedback=forwardRef(function PressableFeedback(_ref,ref){var _scaleAnimation$value,_highlightAnimation$b;var _ref$variant=_ref.variant,variant=_ref$variant===void 0?"both":_ref$variant,scaleAnimation=_ref.scaleAnimation,highlightAnimation=_ref.highlightAnimation,className=_ref.className,style=_ref.style,children=_ref.children,_ref$disableAnimation=_ref.disableAnimation,disableAnimation=_ref$disableAnimation===void 0?false:_ref$disableAnimation,onPressIn=_ref.onPressIn,onPressOut=_ref.onPressOut,disabled=_ref.disabled,restProps=_objectWithoutProperties(_ref,_excluded);var scale=useSharedValue(1);var highlightOpacity=useSharedValue(0);var scaleValue=(_scaleAnimation$value=scaleAnimation==null?void 0:scaleAnimation.value)!=null?_scaleAnimation$value:0.98;var scaleTimingConfig=useMemo(function(){return Object.assign({},DEFAULT_TIMING_CONFIG,scaleAnimation==null?void 0:scaleAnimation.timingConfig);},[scaleAnimation]);var highlightOpacityValues=useMemo(function(){var _highlightAnimation$o;return(_highlightAnimation$o=highlightAnimation==null?void 0:highlightAnimation.opacity)!=null?_highlightAnimation$o:[0,0.15];},[highlightAnimation]);var highlightTimingConfig=useMemo(function(){return Object.assign({},DEFAULT_TIMING_CONFIG,highlightAnimation==null?void 0:highlightAnimation.timingConfig);},[highlightAnimation]);var highlightColor=(_highlightAnimation$b=highlightAnimation==null?void 0:highlightAnimation.backgroundColor)!=null?_highlightAnimation$b:"rgba(0, 0, 0, 1)";var shouldScale=!disableAnimation&&(variant==="scale"||variant==="both");var shouldHighlight=!disableAnimation&&(variant==="highlight"||variant==="both");var handlePressIn=useCallback(function(event){if(shouldScale){scale.value=withTiming(scaleValue,scaleTimingConfig);}if(shouldHighlight){highlightOpacity.value=withTiming(highlightOpacityValues[1],highlightTimingConfig);}onPressIn==null||onPressIn(event);},[shouldScale,shouldHighlight,scale,highlightOpacity,scaleValue,scaleTimingConfig,highlightOpacityValues,highlightTimingConfig,onPressIn]);var handlePressOut=useCallback(function(event){if(shouldScale){scale.value=withTiming(1,scaleTimingConfig);}if(shouldHighlight){highlightOpacity.value=withTiming(highlightOpacityValues[0],highlightTimingConfig);}onPressOut==null||onPressOut(event);},[shouldScale,shouldHighlight,scale,highlightOpacity,scaleTimingConfig,highlightOpacityValues,highlightTimingConfig,onPressOut]);var animatedContainerStyle=useAnimatedStyle(function indexTsx1Factory(_ref2){var _worklet_1228913310888_init_data=_ref2._worklet_1228913310888_init_data,scale=_ref2.scale;var _e=[new global.Error(),-2,-27];var indexTsx1=function indexTsx1(){return{transform:[{scale:scale.value}]};};indexTsx1.__closure={scale:scale};indexTsx1.__workletHash=1228913310888;indexTsx1.__pluginVersion="0.5.1";indexTsx1.__initData=_worklet_1228913310888_init_data;indexTsx1.__stackDetails=_e;return indexTsx1;}({_worklet_1228913310888_init_data:_worklet_1228913310888_init_data,scale:scale}));var animatedHighlightStyle=useAnimatedStyle(function indexTsx2Factory(_ref3){var _worklet_5632786850076_init_data=_ref3._worklet_5632786850076_init_data,highlightOpacity=_ref3.highlightOpacity;var _e=[new global.Error(),-2,-27];var indexTsx2=function indexTsx2(){return{opacity:highlightOpacity.value};};indexTsx2.__closure={highlightOpacity:highlightOpacity};indexTsx2.__workletHash=5632786850076;indexTsx2.__pluginVersion="0.5.1";indexTsx2.__initData=_worklet_5632786850076_init_data;indexTsx2.__stackDetails=_e;return indexTsx2;}({_worklet_5632786850076_init_data:_worklet_5632786850076_init_data,highlightOpacity:highlightOpacity}));return _jsxs(AnimatedPressable,Object.assign({ref:ref,disabled:disabled,onPressIn:handlePressIn,onPressOut:handlePressOut,className:cn("overflow-hidden",className),style:[animatedContainerStyle,style]},restProps,{children:[shouldHighlight&&_jsx(Animated.View,{pointerEvents:"none",className:"absolute inset-0",style:[animatedHighlightStyle,{backgroundColor:highlightColor}]}),children]}));});export default PressableFeedback;
//# sourceMappingURL=index.js.map