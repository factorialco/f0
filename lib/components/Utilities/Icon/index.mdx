import { Meta, Title, IconGallery, IconItem, Canvas } from "@storybook/blocks"

import { Icon as IconExample } from "./"
import AddAvatar from "@/icons/app/AddAvatar"

import * as IconStories from "./index.stories"
import * as AllIcons from "@/icons/app"

<Meta of={IconStories} />

# Icons

<Canvas
  of={IconStories.Example}
  sourceState="shown"
  source={{
    transform: (code) => {
      return `
import AddAvatar from "@factorial-one/icons/AddAvatar"

${code.toString().replace(/icon=\{\s*\{[^}]+\}\s*\}/m, "icon={AddAvatar")}` }}}
/>

<IconGallery>
  {Object.keys(AllIcons).map((iconName) => (
    <IconItem key={iconName} name={iconName}>
      <IconExample size="large" icon={AllIcons[iconName]} />
    </IconItem>
  ))}
</IconGallery>
