import { Meta, Title, IconGallery, IconItem, Canvas } from "@storybook/blocks"

import { Icon as IconExample } from "./"
import ChartLine from "@/icons/app/ChartLine"

import * as IconStories from "./index.stories"
import * as AppIcons from "@/icons/app"
import * as ModuleIcons from "@/icons/modules"

<Meta of={IconStories} />

# Icons

## App Icons

<Canvas
  of={IconStories.App}
  sourceState="shown"
  source={{
    transform: (code) => {
      return `
import { ChartLine } from "@factorial-one/icons/app"

${code.toString().replace(/icon=\{\s*\{[^}]+\}\s*\}/m, "icon={ChartLine")}` }}}
/>

<IconGallery>
  {Object.keys(AppIcons).map((iconName) => (
    <IconItem key={iconName} name={iconName}>
      <IconExample size="large" icon={AppIcons[iconName]} />
    </IconItem>
  ))}
</IconGallery>

## Module Icons

<Canvas
  of={IconStories.Module}
  sourceState="shown"
  source={{
    transform: (code) => {
      return `
import { Calendar } from "@factorial-one/icons/modules"

${code.toString().replace(/icon=\{\s*\{[^}]+\}\s*\}/m, "icon={Calendar")}` }}}
/>

<IconGallery>
  {Object.keys(ModuleIcons).map((iconName) => (
    <IconItem key={iconName} name={iconName}>
      <IconExample size="large" icon={ModuleIcons[iconName]} />
    </IconItem>
  ))}
</IconGallery>
