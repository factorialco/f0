import { Meta, Title, IconGallery, IconItem, Canvas } from "@storybook/blocks"

import { Icon as IconExample } from "./"
import Envelope from "@/icons/Envelope"

import * as IconStories from "./index.stories"
import * as AllIcons from "@/icons"

<Meta of={IconStories} />

# Icons

<Canvas
  of={IconStories.Example}
  sourceState="shown"
  source={{
    transform: (code) => {
      return `
import Envelope from "@factorial-one/icons/Envelope"

${code.toString().replace(/icon=\{\s*\{[^}]+\}\s*\}/m, "icon={Envelope")}` }}}
/>

<IconGallery>
  {Object.keys(AllIcons).map((iconName) => (
    <IconItem key={iconName} name={iconName}>
      <IconExample size="md" icon={AllIcons[iconName]} />
    </IconItem>
  ))}
</IconGallery>
