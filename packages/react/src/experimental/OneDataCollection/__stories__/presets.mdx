import { Canvas, Meta, Controls, Unstyled, Story } from "@storybook/addon-docs/blocks"
import { DoDonts } from "@/lib/storybook-utils/do-donts"

import * as PresetsStories from "./presets.stories"

<Meta title="Data collection/Presets" />

# Data collection / Presets

## Introduction

The presets are predefined configurations that allow users to quickly access
frequently used filtered data views. This simplifies navigation, as there is no
need to manually adjust the filters every time you want to change the table
view.

To ensure an optimal user experience, it is recommended to carefully select the
presets, prioritizing those that display the most relevant and frequently
consulted information. It is essential to avoid overloading the table with too
many preconfigured filters.

## Examples

### Basic example

<Canvas of={PresetsStories.WithPreselectedFilters} meta={PresetsStories} />

### Example with items count

<Canvas
  of={PresetsStories.WithPreselectedFiltersAndItemCount}
  meta={PresetsStories}
/>

## Setting Presets

To enable presets in your data collection component, supply the presets
attribute in the source prop.

```tsx
const dataSource = useDataSource({
    ...
      presets: [
        {
          label: "Preset 1",
          filter: {
            department: ["Engineering"],
          },
          itemsCount: () => 10,
        },
      ]
      ...
})

```

## Presets

### label

The label of the preset to display in the UI.

### filter

The filter of the preset value associated with the preset.

### itemsCount

The items count of the preset. This is a function that returns a promise or a
value

> itemCount function is called on render, so it should be a pure function and
> you should cache the result.
