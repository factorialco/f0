import { Canvas, Meta, Controls, Unstyled } from "@storybook/blocks"
import { DoDonts } from "@/lib/storybook-utils/do-donts"
import * as PageHeaderStories from "./PageHeader/index.stories"

<Meta of={PageHeaderStories} />

<style>
  {`
  .header-container [class*="w-screen"],
  .header-container [class*="h-screen"] {
    width: 100% !important;
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
  }
`}
</style>

# Page Header

## Introduction

### Definition

The PageHeader is a navigation component that provides context about the current
location and available actions within the application. It serves as a consistent
element at the top of pages to orient users and provide access to key
functionality.

### Purpose

- Provide clear context about the current section or module the user is viewing
- Display navigation breadcrumbs to show location within the application
  hierarchy
- Present relevant actions and status information related to the current context
- Enable navigation between related items in a sequence
- Create consistency across the application with a standardized header pattern

## Anatomy

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithProductUpdate} />
</div>
<Controls of={PageHeaderStories.WithProductUpdate} />

The PageHeader combines several interactive elements to create a comprehensive
navigation experience:

### Common elements

#### Module indicator

- Displays the current module name and icon
- Acts as the root of breadcrumb navigation
- Provides visual context through consistent module icons

#### Breadcrumbs

- Shows the hierarchical path within the application
- Allows navigation to parent sections
- Can include selectable dropdowns for complex navigation

#### Status indicator

- Communicates the state of the current content
- Uses color-coded tags with optional tooltips
- Provides critical contextual information at a glance

#### Action buttons

- Provides access to primary and secondary actions
- May include dropdown menus for related options
- Places the most important actions prominently

#### Navigation controls

- Enables movement between related items in a sequence
- Includes previous/next controls with titles
- May display counter information (e.g., "1/30")

## Variants

### Default

The basic header displays only the module information without additional
elements.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.Default} />
</div>

### With Breadcrumbs

Displays the navigation path, helping users understand their location in the
application hierarchy.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithBreadcrumbs} />
</div>

### With Status

Shows the current state of content with an optional tooltip for additional
information.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithStatus} />
</div>

### With Actions

Provides buttons for common operations related to the current view.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithActions} />
</div>

### With Navigation

Enables moving between related items, such as sequential records.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithNavigation} />
</div>

### With Select Breadcrumb

Includes a dropdown selection within the breadcrumb path for quick navigation
between related items.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.WithSelectBreadcrumb} />
</div>

## Guidelines

### Content best practices

- Keep module names concise and clear (2-3 words maximum)
- Use consistent naming conventions across all modules
- Ensure breadcrumb labels are descriptive but not excessively long
- For status tags, use succinct terms that clearly communicate state

### Design best practices

<DoDonts
  do={{
    description: "Use PageHeader when:",
    guidelines: [
      "The page represents a specific section or resource",
      "Users need context about their location in the application",
      "There are relevant actions specific to the current context",
      "Related items can be navigated sequentially",
    ],
    children: null,
  }}
  dont={{
    description: "Don't use PageHeader when:",
    guidelines: [
      "The page is a dashboard with multiple unrelated sections",
      "There is no clear hierarchy to display in breadcrumbs",
      "No contextual actions are available",
      "The page is a standalone utility with no relation to other content",
    ],
    children: null,
  }}
/>

### Layout

- The module indicator always appears first, establishing the root of navigation
- Breadcrumbs follow the module indicator, showing increasing specificity from
  left to right
- Status indicators and actions appear on the right side, with natural grouping
- When present, navigation controls are placed at the far right
- In embedded mode, the header adapts to a more compact format with centered
  content

## Embedded variant

The PageHeader supports an embedded mode for use within panels or modals,
providing a more compact presentation.

<div
  className="header-container"
  style={{
    maxHeight: "180px",
    width: "100%",
  }}
>
  <Canvas of={PageHeaderStories.Embedded} />
</div>

### Behavior

In embedded mode:

- The sidebar toggle is hidden
- The title is centered for better focus
- Back button replaces full breadcrumbs for simpler navigation
- Status and action buttons are typically hidden to save space
- Overall height is reduced for more efficient use of space

## Props

The PageHeader accepts several prop groups that control its appearance and
behavior:

- **module**: Core information about the current module (required)
- **breadcrumbs**: Array of navigation items showing the path
- **statusTag**: Status indicator with text, variant, and optional tooltip
- **actions**: Array of action buttons to display
- **navigation**: Configuration for previous/next navigation
- **embedded**: Boolean to toggle compact embedded mode
- **productUpdates**: Controls for product update notifications

See the Controls section above for detailed prop specifications.

## Accessibility

- Navigation links use semantic HTML and proper ARIA roles
- Status indicators include appropriate context for screen readers
- Breadcrumbs follow correct hierarchical structure
- Navigation controls have descriptive labels
- Focus states are clearly visible for keyboard navigation
