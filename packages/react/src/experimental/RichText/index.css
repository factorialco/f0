/* Main styles */
.mention {
  @apply rounded-xs bg-f1-background-accent px-1.5 py-0.5 font-medium;
}

.mention:focus {
  @apply outline outline-1 outline-offset-1 outline-f1-border-selected-bold;
}

.preserved-selection {
  background-color: #07a2ad33 !important;
}

/* Make all selections transparent */
.rich-text-editor-container *::selection {
  background-color: transparent !important;
}

.rich-text-editor-container::selection {
  background-color: transparent !important;
}

/*********
  tiptap styles
  **********/

.ProseMirror p,
.rich-text-display-container p {
  @apply relative m-0 mb-2;
}

.ProseMirror p:last-child,
.rich-text-display-container p:last-child {
  margin-bottom: 0;
}

.ProseMirror h1,
.rich-text-display-container h1 {
  @apply m-0 mb-3 p-0 text-3xl font-semibold;
}

.ProseMirror h2,
.rich-text-display-container h2 {
  @apply m-0 mt-2.5 p-0 text-2xl font-medium;
}

.ProseMirror h3,
.rich-text-display-container h3 {
  @apply m-0 mt-2.5 p-0 text-lg font-medium;
}

.ProseMirror a,
.rich-text-display-container a {
  @apply font-medium text-f1-foreground-accent no-underline;
}

.ProseMirror strong,
.rich-text-display-container strong {
  @apply font-semibold;
}

.ProseMirror em,
.rich-text-display-container em {
  @apply italic;
}

.ProseMirror u,
.rich-text-display-container u {
  @apply underline;
}

.ProseMirror s,
.rich-text-display-container s {
  @apply line-through;
}

.ProseMirror .f1-bullet-list,
.rich-text-display-container .f1-bullet-list {
  @apply list-disc;
}

.ProseMirror .f1-ordered-list,
.rich-text-display-container .f1-ordered-list {
  @apply list-decimal;
}

.ProseMirror ul,
.ProseMirror ol,
.rich-text-display-container ul,
.rich-text-display-container ol {
  @apply ml-5;
}

.ProseMirror li,
.rich-text-display-container li {
  @apply mb-2;
}

.ProseMirror pre,
.rich-text-display-container pre {
  @apply relative mx-0 overflow-x-auto rounded-md bg-f1-background-secondary p-2;
}

.ProseMirror code,
.rich-text-display-container code {
  @apply text-sm;
  font-family: Menlo, Consolas, Monaco, monospace;
}

.ProseMirror blockquote,
.rich-text-display-container blockquote {
  @apply m-0 mb-2.5 border-0 border-l-4 border-solid border-f1-border pl-4;
}

.ProseMirror:focus,
.rich-text-display-container:focus {
  @apply outline-none;
}

.ProseMirror hr,
.rich-text-display-container hr {
  @apply my-3 border-0 border-t border-f1-border;
}

.ProseMirror mark,
.rich-text-display-container mark {
  @apply rounded-xs bg-f1-background-promote p-0.5 text-f1-foreground;
}

.ProseMirror p:empty::before,
.rich-text-display-container p:empty::before {
  content: "\00a0";
}

.ProseMirror p.is-editor-empty:first-child::before,
.rich-text-display-container p.is-editor-empty:first-child::before {
  @apply pointer-events-none float-left h-0 text-f1-foreground-tertiary;
  content: attr(data-placeholder);
}

.ProseMirror ul[data-type="taskList"],
.rich-text-display-container ul[data-type="taskList"] {
  @apply ml-0;
}

.shadow-editor-tools {
  box-shadow: 0px -4px 20px 0px #0d162514;
}

.scrollbar-macos {
  /* For Firefox */
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.scrollbar-macos::-webkit-scrollbar {
  width: 8px;
}

.scrollbar-macos::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.scrollbar-macos::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 9999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

.scrollbar-macos::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

/* Custom checkbox styling for HTML export */
.custom-checkbox {
  @apply h-5 w-5 shrink-0 rounded-xs border border-solid border-f1-border text-f1-foreground-selected;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.custom-checkbox-checked {
  @apply bg-f1-background-selected-bold text-f1-foreground-inverse;
}

.f1-task-item {
  @apply list-none;
}

/* 
TODO:
this is a hack to make the checkbox look like the one in the Checkbox component
 */
.custom-checkbox-checked::after {
  content: "";
  position: absolute;
  display: block;
  width: 16px;
  height: 16px;
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.75 16.75L17.75 7.25004' stroke='white' stroke-width='1.3' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M6.25 11.75L10.75 16.75' stroke='white' stroke-width='1.3' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
}

.ProseMirror .hljs-comment,
.rich-text-display-container .hljs-comment,
.ProseMirror .hljs-quote,
.rich-text-display-container .hljs-quote {
  color: #6a737d;
}

.ProseMirror .hljs-variable,
.rich-text-display-container .hljs-variable,
.ProseMirror .hljs-template-variable,
.rich-text-display-container .hljs-template-variable,
.ProseMirror .hljs-attribute,
.rich-text-display-container .hljs-attribute,
.ProseMirror .hljs-tag,
.rich-text-display-container .hljs-tag,
.ProseMirror .hljs-regexp,
.rich-text-display-container .hljs-regexp,
.ProseMirror .hljs-link,
.rich-text-display-container .hljs-link,
.ProseMirror .hljs-name,
.rich-text-display-container .hljs-name,
.ProseMirror .hljs-selector-id,
.rich-text-display-container .hljs-selector-id,
.ProseMirror .hljs-selector-class,
.rich-text-display-container .hljs-selector-class {
  color: #d73a49;
}

.ProseMirror .hljs-number,
.rich-text-display-container .hljs-number,
.ProseMirror .hljs-meta,
.rich-text-display-container .hljs-meta,
.ProseMirror .hljs-built_in,
.rich-text-display-container .hljs-built_in,
.ProseMirror .hljs-builtin-name,
.rich-text-display-container .hljs-builtin-name,
.ProseMirror .hljs-literal,
.rich-text-display-container .hljs-literal,
.ProseMirror .hljs-type,
.rich-text-display-container .hljs-type,
.ProseMirror .hljs-params,
.rich-text-display-container .hljs-params {
  color: #005cc5;
}

.ProseMirror .hljs-string,
.rich-text-display-container .hljs-string,
.ProseMirror .hljs-symbol,
.rich-text-display-container .hljs-symbol,
.ProseMirror .hljs-bullet,
.rich-text-display-container .hljs-bullet {
  color: #22863a;
}

.ProseMirror .hljs-title,
.rich-text-display-container .hljs-title,
.ProseMirror .hljs-section,
.rich-text-display-container .hljs-section {
  color: #795548;
}

.ProseMirror .hljs-keyword,
.rich-text-display-container .hljs-keyword,
.ProseMirror .hljs-selector-tag,
.rich-text-display-container .hljs-selector-tag {
  color: #6f42c1;
}

.ProseMirror .hljs-emphasis,
.rich-text-display-container .hljs-emphasis {
  font-style: italic;
}

.ProseMirror .hljs-strong,
.rich-text-display-container .hljs-strong {
  font-weight: 700;
}

.tiptap p.is-empty::before {
  @apply pointer-events-none float-left h-0 text-f1-foreground-tertiary;
  content: attr(data-placeholder);
}

/* Table-specific styling */
.ProseMirror table,
.rich-text-display-container table {
  @apply border-collapse;
  margin: 0;
  overflow: hidden;
  table-layout: fixed;
  width: 100%;
}

.ProseMirror table td,
.ProseMirror table th,
.rich-text-display-container table td,
.rich-text-display-container table th {
  border: 1px solid #d1d5db;
  box-sizing: border-box;
  min-width: 1em;
  padding: 6px 8px;
  position: relative;
  vertical-align: top;
}

.ProseMirror table td > *,
.ProseMirror table th > *,
.rich-text-display-container table td > *,
.rich-text-display-container table th > * {
  margin-bottom: 0;
}

.ProseMirror table th,
.rich-text-display-container table th {
  background-color: #f9fafb;
  font-weight: bold;
  text-align: left;
}

.ProseMirror table .selectedCell:after,
.rich-text-display-container table .selectedCell:after {
  background: #f3f4f6;
  content: "";
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  pointer-events: none;
  position: absolute;
  z-index: 2;
}

.ProseMirror table .column-resize-handle,
.rich-text-display-container table .column-resize-handle {
  background-color: #8b5cf6;
  bottom: -2px;
  pointer-events: none;
  position: absolute;
  right: -2px;
  top: 0;
  width: 4px;
}

.ProseMirror .tableWrapper,
.rich-text-display-container .tableWrapper {
  margin: 1.5rem 0;
  overflow-x: auto;
}

.ProseMirror.resize-cursor,
.rich-text-display-container.resize-cursor {
  cursor: ew-resize;
  cursor: col-resize;
}
