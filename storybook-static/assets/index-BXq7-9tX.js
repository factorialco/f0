import{j as a}from"./jsx-runtime-Cf8x2fCZ.js";import{B as D}from"./index-Blak80_u.js";import{I as C}from"./index-CDBnMHOu.js";import"./exports-IwKL35tc.js";import{P as K}from"./index-C9oqVgzc.js";import"./Save-B3VvXevP.js";import{F as P}from"./CheckCircle-DR890WNk.js";import{F as E}from"./LogoAvatar-CNz_KRMw.js";import{c as p}from"./utils-B2yEwIwY.js";import{C as A}from"./checkbox-BkoZAF6b.js";import{r as F}from"./index-B6o7_jwP.js";import{c as O}from"./createLucideIcon-DSAetUgs.js";import{C as R}from"./chevron-right-CmdJHgzf.js";import{C as z}from"./index-B2OpD_bL.js";/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h=({text:t,search:e,searchKeys:i=[],semiBold:r=!1})=>{if(!e)return a.jsx("span",{className:p("line-clamp-1",r?"font-semibold":""),children:t});if(t.toLowerCase().indexOf(e.toLowerCase())===-1)if(i.find(n=>n.toLowerCase().indexOf(e.toLowerCase().trim())>=0))e=t.split(" ")[0];else return a.jsx("span",{className:p("line-clamp-1",r?"font-semibold":""),children:t});const o=new RegExp(`(${e})`,"gi"),u=t.split(o);return a.jsx("span",{className:p("line-clamp-1",r?"font-semibold":""),children:u.map((n,f)=>n.toLowerCase()===e.toLowerCase()?a.jsx("span",{className:"truncate font-medium",style:{fontWeight:"bold"},children:n},f):n)})};try{h.displayName="HighlightText",h.__docgenInfo={description:"",displayName:"HighlightText",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},searchKeys:{defaultValue:{value:"[]"},description:"",name:"searchKeys",required:!1,type:{name:"string[]"}},semiBold:{defaultValue:{value:"false"},description:"",name:"semiBold",required:!1,type:{name:"boolean"}}}}}catch{}function q(t,e){const r=Array.from(document.querySelectorAll('[data-avatarname-navigator-element="true"]')),o=r.indexOf(t);o>=0&&o<r.length-1?r[o+1].focus():r.length>0&&(e==null||e())}function L(t,e){const r=Array.from(document.querySelectorAll('[data-avatarname-navigator-element="true"]')),o=r.indexOf(t);o>0?r[o-1].focus():r.length>0&&(e==null||e())}const H=({entity:t,selected:e,onSelect:i,onRemove:r,marginLeft:o,search:u,goToFirst:n,goToLast:f,singleSelector:c=!1,disabled:d=!1})=>{const x=t.name.split(" "),g=x[0]||"",b=x.slice(1).join(" "),v=s=>{s.preventDefault(),s.stopPropagation(),!d&&(e?r(t):i(t))},m=s=>{if(s.key==="Enter"||s.key===" "){if(s.preventDefault(),d)return;e?e&&r(t):i(t)}else s.key==="ArrowDown"?q(s.currentTarget,n):s.key==="ArrowUp"&&L(s.currentTarget,f)};return a.jsx("div",{className:"w-full pl-1 pr-1",children:a.jsxs("label",{"aria-label":t.name,className:p(o,"flex flex-row flex-wrap items-center gap-2 rounded-[10px] border p-2 hover:cursor-pointer","focus-within:outline focus-within:outline-1 focus-within:-outline-offset-1 focus-within:outline-f1-border-selected-bold hover:bg-f1-background-hover",e&&c?"bg-f1-background-selected-bold/10 transition-colors dark:bg-f1-background-selected-bold/20":""),children:[a.jsx(K,{src:t.avatar,firstName:g,lastName:b,size:"xsmall"}),a.jsx("div",{className:"flex flex-1 flex-col",children:a.jsx("div",{className:"flex flex-1 flex-row items-center gap-2",children:a.jsx(h,{text:t.name,search:u,searchKeys:t.searchKeys})})}),a.jsx(A,{"data-avatarname-navigator-element":"true",checked:e,disabled:d,onClick:v,onKeyDown:m,className:p("pointer-events-none ml-auto h-[20px] w-[20px] rounded-xs border-[1px] data-[state=checked]:text-f1-foreground-inverse",c?"opacity-0":""),style:{backgroundColor:e?"hsl(var(--selected-50))":void 0,borderColor:e?"hsl(var(--selected-50))":void 0}}),c&&e&&a.jsx(C,{className:"text-f1-icon-selected",icon:P,size:"md"})]})})},w=({groupView:t,expanded:e,search:i,entity:r,selected:o,partialSelected:u,onSelect:n,onRemove:f,onExpand:c,goToFirst:d,goToLast:x,isChild:g=!1,hideLine:b=!1,showGroupIcon:v=!1,singleSelector:m=!1,disabled:s=!1})=>{var k,j;const[_,y]=F.useState(!1);if(!t)return a.jsx(H,{marginLeft:g?"ml-6":"ml-0",entity:r,search:i,selected:o,onSelect:n,onRemove:f,singleSelector:m,goToFirst:d,goToLast:x,disabled:s});const I=l=>{if(l.key===" ")l.preventDefault(),c();else if(l.key==="Enter"&&m)c();else if(l.key==="Enter"){if(s)return;!o||u?n(r):o&&f(r)}else l.key==="ArrowDown"?q(l.currentTarget,d):l.key==="ArrowUp"&&L(l.currentTarget,x)},V=()=>{if(_)c(),y(!1);else{if(s||m)return;o?f(r):n(r)}};if(!((k=r.subItems)!=null&&k.length))return null;const N=o||u;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex w-full flex-row flex-wrap items-center gap-0 rounded-md border pl-1 pr-1",children:[a.jsx(D,{round:!0,hideLabel:!0,icon:e?B:R,onClick:c,label:e?"Collapse":"Expand",size:"sm",variant:"ghost",type:"button"}),a.jsxs("label",{"aria-label":r.name,onPointerDown:()=>{y(!0)},className:"flex flex-1 flex-row items-center gap-2 rounded-[10px] border p-2 focus-within:outline focus-within:outline-1 focus-within:-outline-offset-1 focus-within:outline-f1-border-selected-bold hover:cursor-pointer hover:bg-f1-background-hover",children:[v&&a.jsx(C,{icon:E,className:"rounded-xs bg-f1-foreground-secondary text-f1-foreground-inverse"}),a.jsxs("div",{className:"flex flex-grow flex-row items-center gap-2",children:[a.jsx(h,{semiBold:!0,text:r.name,search:i,searchKeys:r.searchKeys}),a.jsx(z,{value:((j=r.subItems)==null?void 0:j.length)??0})]}),a.jsx(A,{checked:N,disabled:s,onClick:V,onKeyDown:I,indeterminate:u,onPointerDown:l=>{l.stopPropagation(),y(!1)},"data-avatarname-navigator-element":"true",className:p("ml-auto h-[20px] w-[20px] rounded-xs border-[1px] data-[state=checked]:text-f1-foreground-inverse",m?"opacity-0":""),style:{backgroundColor:o?"hsl(var(--selected-50))":"hsl(var(--background))",color:!o&&u?"hsl(var(--selected-50))":void 0,borderColor:N?"hsl(var(--selected-50))":void 0}})]})]}),!b&&!e&&a.jsx("div",{className:"h-[1px] w-full bg-f1-border-secondary"})]})};w.displayName="AvatarNameListItem";try{w.displayName="AvatarNameListItem",w.__docgenInfo={description:"",displayName:"AvatarNameListItem",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"AvatarNamedEntity"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(entity: AvatarNamedEntity) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(entity: AvatarNamedEntity) => void"}},marginLeft:{defaultValue:null,description:"",name:"marginLeft",required:!0,type:{name:"enum",value:[{value:'"ml-0"'},{value:'"ml-6"'}]}},search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},singleSelector:{defaultValue:{value:"false"},description:"",name:"singleSelector",required:!1,type:{name:"boolean"}},goToFirst:{defaultValue:null,description:"",name:"goToFirst",required:!1,type:{name:"(() => void)"}},goToLast:{defaultValue:null,description:"",name:"goToLast",required:!1,type:{name:"(() => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}export{w as A,B as C,L as a,q as f};
