import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{I as p}from"./index-CDBnMHOu.js";import{F as T}from"./index-DJtxxfEW.js";import{A as $}from"./Avatar--tDKy5Jw.js";import"./Save-B3VvXevP.js";import{F as P}from"./ChevronDown-LBI9f9x4.js";import{c as V,f as z}from"./utils-B2yEwIwY.js";import{r as t}from"./index-B6o7_jwP.js";import{e as N,a as A,b as D,c as G,d as H,S as J}from"./Select-tQGJVFmO.js";const i=t.forwardRef(({className:r,...n},l)=>e.jsx(N,{ref:l,className:V("-mx-1 my-1 h-px bg-f1-border-secondary",r),...n}));i.displayName=N.displayName;try{i.displayName="SelectSeparator",i.__docgenInfo={description:"",displayName:"SelectSeparator",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const K=({item:r})=>e.jsx(J,{value:r.value,children:e.jsxs("div",{className:"flex items-start gap-1.5",children:[r.avatar&&e.jsx($,{avatar:r.avatar,size:"xsmall"}),r.icon&&e.jsx("div",{className:"text-f1-icon",children:e.jsx(p,{icon:r.icon})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:r.label}),r.description&&e.jsx("div",{className:"text-f1-foreground-secondary",children:r.description})]})]})}),Q=t.forwardRef(function({item:n},l){return e.jsxs("div",{className:"flex items-center gap-1.5",ref:l,children:[n.icon&&e.jsx("div",{className:"h-5 shrink-0 text-f1-icon",children:e.jsx(p,{icon:n.icon})}),n.label]})}),U="flex h-10 w-full items-center justify-between rounded-md border border-solid border-f1-border bg-f1-background pl-3 pr-2 py-2.5 transition-colors placeholder:text-f1-foreground-secondary hover:border-f1-border-hover disabled:cursor-not-allowed disabled:bg-f1-background-secondary disabled:opacity-50 [&>span]:line-clamp-1",S=t.forwardRef(function({placeholder:n,options:l=[],onChange:u,value:h,children:q,disabled:_,open:c,onOpenChange:f,showSearchBox:w,onSearchChange:m,searchBoxPlaceholder:I,externalSearch:x,searchEmptyMessage:R,className:C,...y},L){const b=l.find(a=>a!=="separator"&&a.value===h),o=t.useRef(null),[d,g]=t.useState(y.searchValue||""),[k,B]=t.useState(c),j=t.useMemo(()=>{if(x)return l;const a=l.filter(s=>s=="separator"||!d||s.label.toLowerCase().includes(d.toLowerCase()));return setTimeout(()=>{var s;(s=o.current)==null||s.focus()},0),a},[l,x,d]);t.useEffect(()=>{var a;c&&((a=o.current)==null||a.focus())},[c]);const E=a=>{g(a),m==null||m(a)},M=a=>{var s;g(""),u==null||u(a,(s=l.find(v=>typeof v=="object"&&v.value===a))==null?void 0:s.item)},F=a=>{f==null||f(a),B(a),setTimeout(()=>{var s;(s=o.current)==null||s.focus()},0)},O=t.useMemo(()=>j.map((a,s)=>a==="separator"?{height:1,item:e.jsx(i,{},`separator-${s}`)}:{height:a.description?64:32,item:e.jsx(K,{item:a},a.value),value:a.value}),[j]);return e.jsxs(A,{onValueChange:M,value:h,disabled:_,open:c,onOpenChange:F,...y,children:[e.jsx(D,{ref:L,asChild:!0,children:q||e.jsxs("button",{"aria-label":"Select unfoldable",className:V(U,C,z("focus-visible:border-f1-border-hover")),children:[e.jsx(G,{placeholder:n,asChild:!0,children:b&&e.jsx(Q,{item:b})}),e.jsx("div",{className:"flex h-6 w-6 items-center justify-center",children:e.jsx("div",{className:"h-4 w-4 rounded-2xs bg-f1-background-secondary",children:e.jsx(p,{icon:P,size:"sm",className:"rounded-2xs bg-f1-background-secondary p-0.5"})})})]})}),k&&e.jsx(H,{items:O,emptyMessage:R,top:w&&e.jsx("div",{className:"p-2",children:e.jsx(T,{placeholder:I,onChange:E,clearable:!0,value:d,ref:o},"search-input")})})]})});try{S.displayName="Select",S.__docgenInfo={description:"",displayName:"Select",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string, item?: any) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},defaultItem:{defaultValue:null,description:"",name:"defaultItem",required:!1,type:{name:"SelectItemObject<string, any>"}},options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"SelectItemProps<string, any>[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},showSearchBox:{defaultValue:null,description:"",name:"showSearchBox",required:!1,type:{name:"boolean"}},searchBoxPlaceholder:{defaultValue:null,description:"",name:"searchBoxPlaceholder",required:!1,type:{name:"string"}},onSearchChange:{defaultValue:null,description:"",name:"onSearchChange",required:!1,type:{name:"((value: string) => void)"}},externalSearch:{defaultValue:null,description:"",name:"externalSearch",required:!1,type:{name:"boolean"}},searchValue:{defaultValue:null,description:"",name:"searchValue",required:!1,type:{name:"string"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},searchEmptyMessage:{defaultValue:null,description:"",name:"searchEmptyMessage",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{S};
