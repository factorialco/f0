import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{B as v}from"./index-Blak80_u.js";import{M as y}from"./index-B79dpo_y.js";import{T as b}from"./index-Ci88gSgP.js";import{c as o}from"./utils-B2yEwIwY.js";import{r as j}from"./index-B6o7_jwP.js";import{I as N}from"./index-CDBnMHOu.js";import{A as _}from"./Avatar--tDKy5Jw.js";import{A as w}from"./index-DCiYqq-t.js";import{D as M}from"./index-C99zcXwp.js";import{R as x}from"./index-BegHU_l6.js";import{S as I}from"./index-X_rOtbsL.js";import"./Save-B3VvXevP.js";import{F as C}from"./AlertCircle-CAZ1CSgr.js";import{F as A}from"./Warning-CA_bta6S.js";import{A as k}from"./index-Dy8WLFmQ.js";import{m as h}from"./proxy-CqNJYjyK.js";const V={warning:{icon:A,iconColor:"text-f1-icon-warning",textColor:"text-f1-foreground-warning"},critical:{icon:C,iconColor:"text-f1-icon-critical",textColor:"text-f1-foreground-critical"}};function c({item:t,collapse:l=!1}){const{value:a}=t;switch(a.type){case"text":return e.jsx("span",{children:a.content});case"avatar":return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{avatar:a.variant,size:"xsmall"}),a.text&&e.jsx("span",{children:a.text})]});case"status":return e.jsx(I,{text:a.label,variant:a.variant});case"list":return e.jsx(w,{avatars:a.avatars,size:"xsmall",type:a.variant,max:3});case"data-list":return l?e.jsxs("div",{className:"flex items-center justify-center gap-1 font-medium",children:[a.data[0],a.data.length>1&&e.jsxs("span",{className:"tabular-nums text-f1-foreground-secondary",children:["+",a.data.length-1]})]}):e.jsx("div",{className:"flex flex-col gap-1.5",children:a.data.map(s=>e.jsx("span",{children:s},s))});case"tag-list":return l?e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-1 font-medium",children:[e.jsx(x,{text:a.tags[0]}),a.tags.length>1&&e.jsxs("span",{className:"tabular-nums text-f1-foreground-secondary",children:["+",a.tags.length-1]})]}):e.jsx("div",{className:o("flex flex-col gap-1 [&>div]:w-fit",a.tags.length>1&&"-mt-[3px]"),children:a.tags.map(s=>e.jsx(x,{text:s},s))});case"dot-tag":return e.jsx(M,{text:a.label,color:a.color});case"date":{if(a.icon===void 0)return e.jsx("span",{children:a.formattedDate});const{icon:s,iconColor:r,textColor:n}=V[a.icon];return e.jsxs("div",{className:"flex items-center justify-center gap-0.5 font-medium",children:[e.jsx(N,{icon:s,className:r}),e.jsx("span",{className:n,children:a.formattedDate})]})}}}try{c.displayName="MetadataValue",c.__docgenInfo={description:"",displayName:"MetadataValue",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"MetadataItem"}},collapse:{defaultValue:{value:"false"},description:"",name:"collapse",required:!1,type:{name:"boolean"}}}}}catch{}function d({item:t}){var m,p,f;const[l,a]=j.useState(!1),s=t.value.type==="data-list"&&t.value.data.length>1||t.value.type==="tag-list"&&t.value.tags.length>1,r=(m=t.actions)==null?void 0:m.length,n=r||s;return e.jsxs("div",{className:"flex h-8 items-center gap-2",children:[e.jsx("div",{className:o("w-28 truncate text-f1-foreground-secondary md:w-fit",t.hideLabel&&"md:hidden"),children:t.label}),e.jsxs("div",{role:"button",tabIndex:n?0:-1,onMouseEnter:()=>n&&a(!0),onMouseLeave:()=>n&&a(!1),onFocus:()=>n&&a(!0),onBlur:()=>n&&a(!1),className:"relative flex h-5 w-fit items-center hover:cursor-default","aria-label":`${t.label} actions`,children:[e.jsx("div",{className:o("hidden font-medium text-f1-foreground md:block",!r&&"block"),children:e.jsx(c,{item:t,collapse:!0})}),r&&e.jsx("div",{className:"w-full md:hidden",children:e.jsx(y,{items:((p=t.actions)==null?void 0:p.map(i=>({label:i.label,icon:i.icon,onClick:i.onClick})))??[],children:e.jsx(c,{item:t,collapse:!0})})}),e.jsx(k,{children:l&&n&&e.jsxs(h.div,{className:o("absolute -left-1.5 -top-1.5 z-50 hidden max-h-[80vh] items-start justify-center gap-1.5 overflow-y-scroll whitespace-nowrap rounded-sm bg-f1-background py-1 pl-1.5 shadow-md ring-1 ring-inset ring-f1-border-secondary md:flex",!s&&"h-8 items-start",r?"pr-1":"pr-1.5"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:[e.jsx("div",{className:o("flex h-6 items-center font-medium text-f1-foreground",s&&"h-auto items-start pt-0.5"),children:e.jsx(c,{item:t})}),r&&e.jsx(h.div,{className:"flex gap-1",initial:{x:-16},animate:{x:0},exit:{x:-16},transition:{duration:.1},children:(f=t.actions)==null?void 0:f.map((i,u)=>e.jsx(b,{label:i.label,children:e.jsx(v,{size:"sm",variant:"neutral",round:!0,label:i.label,hideLabel:!0,icon:i.icon,onClick:i.onClick},`action-${u}`)},`tooltip-${u}`))})]})})]})]})}const g=j.memo(function({items:l}){const a=l.filter(s=>typeof s=="object");return e.jsx("div",{className:"flex flex-col items-start gap-x-3 gap-y-0 md:flex-row md:flex-wrap md:items-center",children:a.map((s,r)=>e.jsxs(e.Fragment,{children:[e.jsx(d,{item:s},`item-${r}`),r<a.length-1&&e.jsx("div",{className:"hidden h-4 w-[1px] bg-f1-border md:block"},`separator-${r}`)]}))})});try{g.displayName="Metadata",g.__docgenInfo={description:"",displayName:"Metadata",props:{items:{defaultValue:null,description:`Everything is not a MetadataItem is ignored.
Undefined and boolean enable conditional items`,name:"items",required:!0,type:{name:"(boolean | MetadataItem | undefined)[]"}},collapse:{defaultValue:null,description:"If true and the metadata type is a list, it will be collapsed to the first item",name:"collapse",required:!1,type:{name:"boolean"}}}}}catch{}try{d.displayName="MetadataItem",d.__docgenInfo={description:"",displayName:"MetadataItem",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"MetadataItem"}}}}}catch{}export{g as M};
