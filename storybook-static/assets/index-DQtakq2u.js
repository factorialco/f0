import{j as r}from"./jsx-runtime-Cf8x2fCZ.js";import{I as j}from"./index-CDBnMHOu.js";import{S as v}from"./index-rQB-1XLh.js";import{C as b}from"./index-Ji25cujd.js";import"./Save-B3VvXevP.js";import{F as C}from"./ChevronDown-LBI9f9x4.js";import{F as w}from"./Circle-Bv82YDSp.js";import{c as g,f as N}from"./utils-B2yEwIwY.js";import{S as u}from"./skeleton-BQT1AIt_.js";import{r as m}from"./index-B6o7_jwP.js";import{m as y}from"./proxy-CqNJYjyK.js";function d({companies:e,selected:a,onChange:l,isLoading:c=!1,withNotification:t=!1,additionalOptions:s=[]}){const i=m.useMemo(()=>e.find(f=>f.id===a)||e[0],[e,a]);return c?r.jsxs("div",{className:"flex w-fit items-center gap-2 p-1.5",children:[r.jsx(u,{className:"size-6"}),r.jsx(u,{className:"h-3 w-14"})]}):e.length+((s==null?void 0:s.length)||0)===1?r.jsx("div",{className:"p-1.5",style:{maxWidth:"168px"},children:r.jsx(x,{company:i,withNotification:t})}):r.jsx(S,{companies:e,selected:i,onChange:l,additionalOptions:s,children:r.jsx(x,{company:i,withNotification:t})})}const S=({companies:e,selected:a,onChange:l,children:c,additionalOptions:t=[]})=>{const[s,i]=m.useState(!1),f=m.useMemo(()=>[...e.map(n=>({value:n.id,label:n.name,avatar:{type:"company",name:n.name,src:n.logo,"aria-label":`${n.name} logo`}})),...t.length?["separator"]:[],...t],[e,t]),h=n=>{const o=t==null?void 0:t.find(p=>p.value===n);if(o!=null&&o.onClick){o.onClick();return}l(n)};return r.jsx(v,{options:f,value:a.id,onChange:h,placeholder:"Select a company",open:s,onOpenChange:i,children:r.jsxs("div",{className:g("group flex w-fit max-w-full flex-nowrap items-center justify-center gap-1 truncate rounded p-1.5 text-f1-foreground transition-colors hover:bg-f1-background-hover data-[state=open]:bg-f1-background-hover",N()),tabIndex:0,title:a==null?void 0:a.name,children:[c,r.jsx("div",{className:"flex w-5 shrink-0 items-center justify-center",children:r.jsx("div",{className:"flex h-3 w-3 items-center justify-center rounded-2xs bg-f1-background-secondary transition-all",children:r.jsx(y.div,{animate:{rotate:s?180:0},transition:{duration:.2},className:"flex h-3 w-3 shrink-0 items-center justify-center text-f1-icon-bold",children:r.jsx(j,{icon:C,size:"xs"})})})})]})})},x=({company:e,withNotification:a=!1})=>{var l;return r.jsxs("div",{className:g("flex w-fit min-w-0 max-w-full items-center gap-2 rounded text-lg font-semibold text-f1-foreground transition-colors"),children:[r.jsx(b,{name:(l=e==null?void 0:e.name)==null?void 0:l[0],src:e==null?void 0:e.logo,size:"small",badge:a?{icon:w,type:"highlight"}:void 0}),r.jsx("div",{className:"min-w-0 flex-1",children:r.jsx("span",{className:"block truncate",children:e==null?void 0:e.name})})]})};try{d.displayName="CompanySelector",d.__docgenInfo={description:"",displayName:"CompanySelector",props:{companies:{defaultValue:null,description:"",name:"companies",required:!0,type:{name:"Company[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},withNotification:{defaultValue:{value:"false"},description:"",name:"withNotification",required:!1,type:{name:"boolean"}},additionalOptions:{defaultValue:{value:"[]"},description:"",name:"additionalOptions",required:!1,type:{name:"{ label: string; value: string; icon?: IconType; description?: string; onClick?: (() => void) | undefined; }[] | undefined"}}}}}catch{}export{d as C};
