import{j as c}from"./jsx-runtime-Cf8x2fCZ.js";import{r as u,R as L}from"./index-B6o7_jwP.js";import{c as j}from"./utils-B2yEwIwY.js";import{c as F}from"./index-Cwk_nZHn.js";import{t as ee,w as z,i as k,a as te,T as re,b as ne}from"./generateCategoricalChart-DK672pYy.js";import{c as oe}from"./clsx-B-dksMZM.js";function $(e){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ie(e,t,r){return t=se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e){var t=ae(e,"string");return $(t)=="symbol"?t:t+""}function ae(e,t){if($(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ce(e,t){return he(e)||de(e,t)||ue(e,t)||le()}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(e,t){if(e){if(typeof e=="string")return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}function J(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,l,o,d=[],a=!0,h=!1;try{if(l=(r=r.call(e)).next,t!==0)for(;!(a=(n=l.call(r)).done)&&(d.push(n.value),d.length!==t);a=!0);}catch(b){h=!0,i=b}finally{try{if(!a&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return d}}function he(e){if(Array.isArray(e))return e}var fe=u.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,l=e.width,o=l===void 0?"100%":l,d=e.height,a=d===void 0?"100%":d,h=e.minWidth,b=h===void 0?0:h,g=e.minHeight,y=e.maxHeight,v=e.children,T=e.debounce,_=T===void 0?0:T,H=e.id,R=e.className,s=e.onResize,N=e.style,C=N===void 0?{}:N,f=u.useRef(null),x=u.useRef();x.current=s,u.useImperativeHandle(t,function(){return Object.defineProperty(f.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),f.current},configurable:!0})});var Q=u.useState({containerWidth:i.width,containerHeight:i.height}),M=ce(Q,2),E=M[0],X=M[1],A=u.useCallback(function(w,O){X(function(m){var p=Math.round(w),S=Math.round(O);return m.containerWidth===p&&m.containerHeight===S?m:{containerWidth:p,containerHeight:S}})},[]);u.useEffect(function(){var w=function(Z){var I,K=Z[0].contentRect,q=K.width,V=K.height;A(q,V),(I=x.current)===null||I===void 0||I.call(x,q,V)};_>0&&(w=ee(w,_,{trailing:!0,leading:!1}));var O=new ResizeObserver(w),m=f.current.getBoundingClientRect(),p=m.width,S=m.height;return A(p,S),O.observe(f.current),function(){O.disconnect()}},[A,_]);var Y=u.useMemo(function(){var w=E.containerWidth,O=E.containerHeight;if(w<0||O<0)return null;z(k(o)||k(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,a),z(!r||r>0,"The aspect(%s) must be greater than zero.",r);var m=k(o)?w:o,p=k(a)?O:a;r&&r>0&&(m?p=m/r:p&&(m=p*r),y&&p>y&&(p=y)),z(m>0||p>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,m,p,o,a,b,g,r);var S=!Array.isArray(v)&&te(v.type).endsWith("Chart");return L.Children.map(v,function(P){return L.isValidElement(P)?u.cloneElement(P,W({width:m,height:p},S?{style:W({height:"100%",width:"100%",maxHeight:p,maxWidth:m},P.props.style)}:{})):P})},[r,v,a,y,g,b,E,o]);return L.createElement("div",{id:H?"".concat(H):void 0,className:oe("recharts-responsive-container",R),style:W(W({},C),{},{width:o,height:a,minWidth:b,minHeight:g,maxHeight:y}),ref:f},Y)});const ge=F({variants:{aspect:{square:"aspect-square",wide:"aspect-video",small:"h-40"}}}),me={light:"",dark:".dark"},U=u.createContext(null);function G(){const e=u.useContext(U);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const pe=({id:e,className:t,children:r,aspect:n,config:i,...l},o)=>{const d=u.useId(),a=`chart-${e||d.replace(/:/g,"")}`,h=u.useRef(null),[b,g]=u.useState(),y=u.useMemo(()=>new ResizeObserver(v=>g(v[0].contentRect.height)),[]);return u.useLayoutEffect(()=>{const v=o&&"current"in o?o.current:h.current;return v&&y.observe(v.parentElement),()=>{y.disconnect()}},[y,o,h]),c.jsx(U.Provider,{value:{config:i},children:c.jsxs("div",{"data-chromatic":"ignore","data-chart":a,ref:o||h,className:j("flex w-full justify-center overflow-visible text-sm [&_.recharts-cartesian-axis-tick_text]:fill-f1-foreground-secondary [&_.recharts-cartesian-grid_line]:stroke-f1-border [&_.recharts-curve.recharts-tooltip-cursor]:stroke-f1-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-f1-border [&_.recharts-radial-bar-background-sector]:fill-f1-background-secondary [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-f1-background-secondary [&_.recharts-reference-line-line]:stroke-f1-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n?ge({aspect:n}):"aspect-auto h-full",t),...l,children:[c.jsx(be,{id:a,config:i}),c.jsx(fe,{height:b,className:"overflow-visible",children:r})]})})},ve=u.forwardRef(pe);ve.displayName="Chart";const be=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,i])=>i.theme||i.color);return r.length?c.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(me).map(([n,i])=>`
${i} [data-chart=${e}] {
${r.map(([l,o])=>{var a;const d=((a=o.theme)==null?void 0:a[n])||o.color;return d?`  --color-${l}: ${d};`:null}).join(`
`)}
}
`)}}):null},Ne=re,ye=u.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:i=!1,hideIndicator:l=!1,label:o,labelFormatter:d,labelClassName:a,formatter:h,yAxisFormatter:b,color:g,nameKey:y,labelKey:v},T)=>{const{config:_}=G(),H=u.useMemo(()=>{var x;if(i||!(t!=null&&t.length))return null;const[s]=t,N=`${v||s.dataKey||s.name||"value"}`,C=D(_,s,N),f=!v&&typeof o=="string"?((x=_[o])==null?void 0:x.label)||o:C==null?void 0:C.label;return d?c.jsx("div",{className:j("font-medium",a),children:d(f,t)}):f?c.jsx("div",{className:j("font-medium",a),children:f}):null},[o,d,t,i,a,_,v]);if(!e||!(t!=null&&t.length))return null;const R=t.length===1&&n!=="dot";return c.jsxs("div",{ref:T,className:j("grid min-w-[8rem] items-start gap-2 rounded-sm border border-solid border-f1-border bg-f1-background px-3 py-2.5 text-sm shadow-xl",r),children:[R?null:H,c.jsx("div",{className:"grid gap-2",children:t.map((s,N)=>{const C=`${y||s.name||s.dataKey||"value"}`,f=D(_,s,C),x=g||s.payload.fill||s.color;return c.jsx("div",{className:j("flex w-full items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-f1-foreground",n==="dot"&&"items-center"),children:h&&(s==null?void 0:s.value)!==void 0&&s.name?h(s.value,s.name,s,N,s.payload):c.jsxs(c.Fragment,{children:[f!=null&&f.icon?c.jsx(f.icon,{}):!l&&c.jsx("div",{className:j("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":R&&n==="dashed"}),style:{"--color-bg":x,"--color-border":x}}),c.jsxs("div",{className:j("flex flex-1 justify-between leading-none",R?"items-end":"items-center"),children:[c.jsxs("div",{className:"grid gap-2",children:[R?H:null,c.jsx("span",{className:"pr-2 text-f1-foreground",children:(f==null?void 0:f.label)||s.name})]}),s.value&&c.jsx("span",{className:"font-mono font-medium tabular-nums text-f1-foreground",children:b?b(String(s.value)):s.value.toLocaleString()})]})]})},s.dataKey)})})]})});ye.displayName="ChartTooltip";const Se=ne,xe=u.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:i,hiddenKey:l,leftShift:o=0},d)=>{const{config:a}=G();return r!=null&&r.length?c.jsx("div",{ref:d,className:j("relative flex flex-wrap items-center justify-center gap-4 text-f1-foreground-secondary",n==="top"?"pb-2":"pt-2",e),style:{marginLeft:o},children:r.map(h=>{const b=`${i||h.dataKey||"value"}`,g=D(a,h,b,l);return c.jsxs("div",{className:j("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-f1-foreground"),children:[g!=null&&g.icon&&!t?c.jsx(g.icon,{}):g&&c.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{backgroundColor:h.color}}),c.jsx("span",{className:"text-f1-foreground",children:g==null?void 0:g.label})]},JSON.stringify(h))})}):null});xe.displayName="ChartLegend";function D(e,t,r,n){if(typeof t!="object"||t===null)return;const i="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let l=r;if(r in t&&typeof t[r]=="string"?l=t[r]:i&&r in i&&typeof i[r]=="string"?l=i[r]:"dataKey"in t&&typeof t.dataKey=="string"&&(l=t.dataKey),!(n&&n===l))return l in e?e[l]:e[r]}try{Chart.displayName="Chart",Chart.__docgenInfo={description:"",displayName:"Chart",props:{aspect:{defaultValue:null,description:"",name:"aspect",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"square"'},{value:'"wide"'}]}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ChartConfig"}}}}}catch{}export{ve as C,Ne as a,ye as b,Se as c,xe as d};
