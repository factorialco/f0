import{j as h}from"./jsx-runtime-Cf8x2fCZ.js";import{c as G}from"./utils-B2yEwIwY.js";import{r as a}from"./index-B6o7_jwP.js";import{c as ie,P as L}from"./index-BKKrtyrw.js";import{P as I}from"./index-yradL_ub.js";import{u as E}from"./index-B7GDqc_s.js";import{a as P,u as de}from"./index-BNL5Yqmu.js";import{u as ue}from"./index-BiB69Vyw.js";import{c as fe}from"./index-BdQq_4o_.js";import{c as C}from"./index-DW48STyt.js";function he(e,t){return a.useReducer((r,l)=>t[r][l]??r,e)}var U="ScrollArea",[J,Oe]=ie(U),[pe,v]=J(U),K=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:l="hover",dir:o,scrollHideDelay:n=600,...s}=e,[c,i]=a.useState(null),[f,d]=a.useState(null),[p,u]=a.useState(null),[m,S]=a.useState(null),[A,B]=a.useState(null),[x,D]=a.useState(0),[X,j]=a.useState(0),[N,T]=a.useState(!1),[H,W]=a.useState(!1),b=E(t,y=>i(y)),w=ue(o);return h.jsx(pe,{scope:r,type:l,dir:w,scrollHideDelay:n,scrollArea:c,viewport:f,onViewportChange:d,content:p,onContentChange:u,scrollbarX:m,onScrollbarXChange:S,scrollbarXEnabled:N,onScrollbarXEnabledChange:T,scrollbarY:A,onScrollbarYChange:B,scrollbarYEnabled:H,onScrollbarYEnabledChange:W,onCornerWidthChange:D,onCornerHeightChange:j,children:h.jsx(L.div,{dir:w,...s,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":X+"px",...e.style}})})});K.displayName=U;var Q="ScrollAreaViewport",Z=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:l,nonce:o,...n}=e,s=v(Q,r),c=a.useRef(null),i=E(t,c,s.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),h.jsx(L.div,{"data-radix-scroll-area-viewport":"",...n,ref:i,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});Z.displayName=Q;var g="ScrollAreaScrollbar",k=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:s}=o,c=e.orientation==="horizontal";return a.useEffect(()=>(c?n(!0):s(!0),()=>{c?n(!1):s(!1)}),[c,n,s]),o.type==="hover"?h.jsx(me,{...l,ref:t,forceMount:r}):o.type==="scroll"?h.jsx(be,{...l,ref:t,forceMount:r}):o.type==="auto"?h.jsx(ee,{...l,ref:t,forceMount:r}):o.type==="always"?h.jsx(F,{...l,ref:t}):null});k.displayName=g;var me=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),[n,s]=a.useState(!1);return a.useEffect(()=>{const c=o.scrollArea;let i=0;if(c){const f=()=>{window.clearTimeout(i),s(!0)},d=()=>{i=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(i),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),h.jsx(I,{present:r||n,children:h.jsx(ee,{"data-state":n?"visible":"hidden",...l,ref:t})})}),be=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),n=e.orientation==="horizontal",s=V(()=>i("SCROLL_END"),100),[c,i]=he("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>i("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,i]),a.useEffect(()=>{const f=o.viewport,d=n?"scrollLeft":"scrollTop";if(f){let p=f[d];const u=()=>{const m=f[d];p!==m&&(i("SCROLL"),s()),p=m};return f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[o.viewport,n,i,s]),h.jsx(I,{present:r||c!=="hidden",children:h.jsx(F,{"data-state":c==="hidden"?"hidden":"visible",...l,ref:t,onPointerEnter:C(e.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:C(e.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),ee=a.forwardRef((e,t)=>{const r=v(g,e.__scopeScrollArea),{forceMount:l,...o}=e,[n,s]=a.useState(!1),c=e.orientation==="horizontal",i=V(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(c?f:d)}},10);return R(r.viewport,i),R(r.content,i),h.jsx(I,{present:l||n,children:h.jsx(F,{"data-state":n?"visible":"hidden",...o,ref:t})})}),F=a.forwardRef((e,t)=>{const{orientation:r="vertical",...l}=e,o=v(g,e.__scopeScrollArea),n=a.useRef(null),s=a.useRef(0),[c,i]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=le(c.viewport,c.content),d={...l,sizes:c,onSizesChange:i,hasThumb:f>0&&f<1,onThumbChange:u=>n.current=u,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:u=>s.current=u};function p(u,m){return Pe(u,s.current,c,m)}return r==="horizontal"?h.jsx(Se,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const u=o.viewport.scrollLeft,m=$(u,c,o.dir);n.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollLeft=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollLeft=p(u,o.dir))}}):r==="vertical"?h.jsx(ve,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const u=o.viewport.scrollTop,m=$(u,c);n.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:u=>{o.viewport&&(o.viewport.scrollTop=u)},onDragScroll:u=>{o.viewport&&(o.viewport.scrollTop=p(u))}}):null}),Se=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...o}=e,n=v(g,e.__scopeScrollArea),[s,c]=a.useState(),i=a.useRef(null),f=E(t,i,n.onScrollbarXChange);return a.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),h.jsx(oe,{"data-orientation":"horizontal",...o,ref:f,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":M(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(n.viewport){const u=n.viewport.scrollLeft+d.deltaX;e.onWheelScroll(u),se(u,p)&&d.preventDefault()}},onResize:()=>{i.current&&n.viewport&&s&&l({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:O(s.paddingLeft),paddingEnd:O(s.paddingRight)}})}})}),ve=a.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...o}=e,n=v(g,e.__scopeScrollArea),[s,c]=a.useState(),i=a.useRef(null),f=E(t,i,n.onScrollbarYChange);return a.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),h.jsx(oe,{"data-orientation":"vertical",...o,ref:f,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":M(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(n.viewport){const u=n.viewport.scrollTop+d.deltaY;e.onWheelScroll(u),se(u,p)&&d.preventDefault()}},onResize:()=>{i.current&&n.viewport&&s&&l({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:O(s.paddingTop),paddingEnd:O(s.paddingBottom)}})}})}),[we,re]=J(g),oe=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:o,onThumbChange:n,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:i,onDragScroll:f,onWheelScroll:d,onResize:p,...u}=e,m=v(g,r),[S,A]=a.useState(null),B=E(t,b=>A(b)),x=a.useRef(null),D=a.useRef(""),X=m.viewport,j=l.content-l.viewport,N=P(d),T=P(i),H=V(p,10);function W(b){if(x.current){const w=b.clientX-x.current.left,y=b.clientY-x.current.top;f({x:w,y})}}return a.useEffect(()=>{const b=w=>{const y=w.target;(S==null?void 0:S.contains(y))&&N(w,j)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[X,S,j,N]),a.useEffect(T,[l,T]),R(S,H),R(m.content,H),h.jsx(we,{scope:r,scrollbar:S,hasThumb:o,onThumbChange:P(n),onThumbPointerUp:P(s),onThumbPositionChange:T,onThumbPointerDown:P(c),children:h.jsx(L.div,{...u,ref:B,style:{position:"absolute",...u.style},onPointerDown:C(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),x.current=S.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),W(b))}),onPointerMove:C(e.onPointerMove,W),onPointerUp:C(e.onPointerUp,b=>{const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=D.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),z="ScrollAreaThumb",te=a.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=re(z,e.__scopeScrollArea);return h.jsx(I,{present:r||o.hasThumb,children:h.jsx(ge,{ref:t,...l})})}),ge=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:l,...o}=e,n=v(z,r),s=re(z,r),{onThumbPositionChange:c}=s,i=E(t,p=>s.onThumbChange(p)),f=a.useRef(void 0),d=V(()=>{f.current&&(f.current(),f.current=void 0)},100);return a.useEffect(()=>{const p=n.viewport;if(p){const u=()=>{if(d(),!f.current){const m=Ce(p,c);f.current=m,c()}};return c(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,d,c]),h.jsx(L.div,{"data-state":s.hasThumb?"visible":"hidden",...o,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:C(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),S=p.clientX-m.left,A=p.clientY-m.top;s.onThumbPointerDown({x:S,y:A})}),onPointerUp:C(e.onPointerUp,s.onThumbPointerUp)})});te.displayName=z;var q="ScrollAreaCorner",ne=a.forwardRef((e,t)=>{const r=v(q,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?h.jsx(xe,{...e,ref:t}):null});ne.displayName=q;var xe=a.forwardRef((e,t)=>{const{__scopeScrollArea:r,...l}=e,o=v(q,r),[n,s]=a.useState(0),[c,i]=a.useState(0),f=!!(n&&c);return R(o.scrollbarX,()=>{var p;const d=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(d),i(d)}),R(o.scrollbarY,()=>{var p;const d=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(d),s(d)}),f?h.jsx(L.div,{...l,ref:t,style:{width:n,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function O(e){return e?parseInt(e,10):0}function le(e,t){const r=e/t;return isNaN(r)?0:r}function M(e){const t=le(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-r)*t;return Math.max(l,18)}function Pe(e,t,r,l="ltr"){const o=M(r),n=o/2,s=t||n,c=o-s,i=r.scrollbar.paddingStart+s,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,d=r.content-r.viewport,p=l==="ltr"?[0,d]:[d*-1,0];return ae([i,f],p)(e)}function $(e,t,r="ltr"){const l=M(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-o,s=t.content-t.viewport,c=n-l,i=r==="ltr"?[0,s]:[s*-1,0],f=fe(e,i);return ae([0,s],[0,c])(f)}function ae(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const l=(t[1]-t[0])/(e[1]-e[0]);return t[0]+l*(r-e[0])}}function se(e,t){return e>0&&e<t}var Ce=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},l=0;return function o(){const n={left:e.scrollLeft,top:e.scrollTop},s=r.left!==n.left,c=r.top!==n.top;(s||c)&&t(),r=n,l=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(l)};function V(e,t){const r=P(e),l=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(l.current),[]),a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,t)},[r,t])}function R(e,t){const r=P(t);de(()=>{let l=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(l),o.unobserve(e)}}},[e,r])}var ce=K,ye=Z,Re=ne;const Y=a.forwardRef(({className:e,children:t,showBar:r=!0,viewportRef:l,...o},n)=>h.jsxs(ce,{ref:n,className:G("relative overflow-hidden",e),scrollHideDelay:200,...o,children:[h.jsx(ye,{ref:l,className:"h-full w-full rounded-[inherit]","data-scroll-container":!0,children:t}),h.jsx(_,{orientation:"vertical",showBar:r}),h.jsx(_,{orientation:"horizontal",showBar:r}),h.jsx(Re,{})]}));Y.displayName=ce.displayName;const _=a.forwardRef(({className:e,orientation:t="vertical",showBar:r=!0,...l},o)=>h.jsx(k,{ref:o,orientation:t,forceMount:!0,className:G("group/scrollbar z-50 flex touch-none select-none p-[1px]","transition-opacity data-[state=hidden]:pointer-events-none data-[state=visible]:pointer-events-auto data-[state=hidden]:opacity-0 data-[state=visible]:opacity-100",t==="vertical"&&"mr-[2px] h-full w-2",t==="horizontal"&&"mt-[2px] h-2 flex-col",e),...l,children:r&&h.jsx(te,{className:"relative flex-1 rounded-full bg-f1-background-bold opacity-30 transition-opacity group-hover/scrollbar:opacity-50"})}));_.displayName=k.displayName;try{Y.displayName="ScrollArea",Y.__docgenInfo={description:"",displayName:"ScrollArea",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},showBar:{defaultValue:{value:"true"},description:"",name:"showBar",required:!1,type:{name:"boolean"}},viewportRef:{defaultValue:null,description:"",name:"viewportRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}try{_.displayName="ScrollBar",_.__docgenInfo={description:"",displayName:"ScrollBar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},showBar:{defaultValue:{value:"true"},description:"",name:"showBar",required:!1,type:{name:"boolean"}}}}}catch{}export{Y as S,_ as a};
