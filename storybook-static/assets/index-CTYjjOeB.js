import{j as a}from"./jsx-runtime-Cf8x2fCZ.js";import{b as p}from"./date-DbrLY854.js";import{P as g,a as k}from"./PieChart-Dtl9OwLu.js";import{C as y}from"./generateCategoricalChart-DK672pYy.js";const u="--:--",j=t=>t&&t>0?{value:t,color:i.empty}:t&&t<0?{value:Math.abs(t),color:i.overtime}:{value:1,color:i.empty},L=(t=[],r)=>{const o=j(r);return[...r?t.map(e=>({value:Math.floor((e.to.getTime()-e.from.getTime())/6e4),color:i[e.variant]})):[],o]},C=({data:t=[],remainingMinutes:r})=>{var f;const o=(f=t.find(n=>n.variant==="clocked-in"))==null?void 0:f.from,e=t.at(-1),s=o?p(o):u,c=r===void 0||r>0?u:e?p(e.to):u,l=(e==null?void 0:e.variant)==="break"?(e==null?void 0:e.to.getTime())-(e==null?void 0:e.from.getTime())||0:t.reduce((n,d)=>d.variant==="clocked-in"?n+(d.to.getTime()-d.from.getTime()):n,0),v=Math.floor(l/(1e3*60*60)),x=Math.floor(l%(1e3*60*60)/(1e3*60)),b=`${v.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`;return{primaryLabel:s,secondaryLabel:c,time:b}},i={"clocked-in":"hsl(var(--positive-50))",break:"hsl(var(--promote-50))",empty:"hsl(var(--neutral-10))","clocked-out":"hsl(var(--neutral-10))",overtime:"hsl(var(--warning-50))"};function h({data:t=[],remainingMinutes:r}){const o=L(t,r),{primaryLabel:e,secondaryLabel:s,time:c}=C({data:t,remainingMinutes:r});return a.jsxs("div",{className:"relative h-40 w-40",children:[a.jsx(g,{width:156,height:156,children:a.jsx(k,{data:o,cx:74,cy:74,innerRadius:62,outerRadius:74,startAngle:225,endAngle:-45,paddingAngle:2,cornerRadius:4,dataKey:"value",strokeWidth:0,isAnimationActive:!1,children:o.map((m,l)=>a.jsx(y,{fill:m.color,role:"presentation","aria-label":`${m.value} minutes`},`cell-${l}`))})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-3xl font-semibold tabular-nums text-f1-foreground",children:c})}),a.jsxs("div",{className:"absolute bottom-3 flex w-full justify-between px-8 text-f1-foreground-secondary",children:[a.jsx("span",{className:"text-sm font-medium opacity-60",children:e}),a.jsx("span",{className:"text-sm font-medium opacity-60",children:s})]})]})}try{h.displayName="ClockInGraph",h.__docgenInfo={description:"",displayName:"ClockInGraph",props:{data:{defaultValue:{value:"[]"},description:"",name:"data",required:!1,type:{name:"{ from: Date; to: Date; variant: ClockInStatus; }[]"}},remainingMinutes:{defaultValue:null,description:"",name:"remainingMinutes",required:!1,type:{name:"number"}}}}}catch{}export{h as C,i as a};
