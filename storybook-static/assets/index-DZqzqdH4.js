import{j as r}from"./jsx-runtime-Cf8x2fCZ.js";import{T as x,a as h,b as g,c as v}from"./tooltip-D2WqQ3hx.js";import{a as d}from"./colors-o1uwkeKe.js";import{f as j}from"./forwardRef-CVda-fSC.js";const C=({data:l,legend:u=!0,hideTooltip:c=!1},m)=>{const t=l.reduce((e,a)=>e+a.value,0);return r.jsxs(x,{children:[r.jsx("div",{className:"w-full",ref:m,children:r.jsx("div",{className:"flex h-2 gap-1 overflow-hidden",children:l.map((e,a)=>{const s=e.value/t*100,n=e.color||d(a),f=p=>{const o=p/t*100;return o%1===0?o.toFixed(0):o.toFixed(1)};return s===0?null:r.jsxs(h,{children:[r.jsx(g,{className:"h-full cursor-default overflow-hidden rounded-2xs",style:{width:`${s}%`},title:e.name,asChild:!0,children:r.jsx("div",{className:"h-full w-full",style:{backgroundColor:n},role:"img",title:e.name,tabIndex:0})}),!c&&r.jsxs(v,{className:"flex items-center gap-1 text-sm",children:[r.jsx("div",{className:"h-2.5 w-2.5 shrink-0 translate-y-px rounded-full",style:{backgroundColor:n}}),r.jsx("span",{className:"pl-0.5 pr-2 text-f1-foreground-inverse-secondary dark:text-f1-foreground-secondary",children:e.name}),r.jsxs("span",{className:"font-mono font-medium tabular-nums text-f1-foreground-inverse dark:text-f1-foreground",children:[e.value," (",f(e.value),"%)"]})]})]},e.name)})})}),u&&r.jsx("div",{className:"mt-2 flex w-full flex-wrap gap-x-2.5 gap-y-0.5",role:"list",children:l.map((e,a)=>{const s=e.color||d(a);return r.jsxs("div",{className:"flex items-center gap-1.5",role:"listitem",children:[r.jsx("div",{className:"h-2 w-2 shrink-0 rounded-full",style:{backgroundColor:s}}),r.jsx("span",{className:"text-f1-foreground",children:e.name})]},e.name)})})]})},i=j(C);try{i.displayName="CategoryBarChart",i.__docgenInfo={description:"",displayName:"CategoryBarChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ name: string; value: number; color?: string | undefined; }[]"}},legend:{defaultValue:{value:"true"},description:"",name:"legend",required:!1,type:{name:"boolean"}},hideTooltip:{defaultValue:{value:"false"},description:"",name:"hideTooltip",required:!1,type:{name:"boolean"}}}}}catch{}export{i as C};
